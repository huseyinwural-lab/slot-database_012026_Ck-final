# Kanıt — STG-SecHeaders-01 (Staging) — Güvenlik Başlıklarının Etkinleştirilmesi

> Amaç: Staging ortamında **STG-SecHeaders-01** (CSP Report-Only + düşük HSTS) için standart kanıt artefaktı.

---

## Meta Veriler
- Tarih (YYYY-MM-DD): 2025-12-21
- Saat (UTC): HH:MM:SS UTC
- Operatör: <your_name>
- Gözden Geçiren (opsiyonel):

## Hedef
- kubecontext: <current-context>
- namespace: <namespace>
- deployment: <frontend-admin-deployment-name>
- domain: <staging-domain> (STAGING_DOMAIN)
- beklenen `SECURITY_HEADERS_MODE`: `report-only`

---

## Değişiklik özeti
- Uygulanan ConfigMap: `k8s/frontend-admin-security-headers-configmap.yaml`
- Uygulanan patch/overlay: `k8s/frontend-admin-security-headers.patch.yaml`
- Env doğrulandı:
  - `SECURITY_HEADERS_MODE=report-only`

---

## Doğrulama

### 1) Başlık kontrolü (curl)

Çıktı (tam içerik):```text
# Command 1: Report-Only + HSTS
content-security-policy-report-only: default-src 'self'; script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self'; form-action 'self'; frame-ancestors 'self';

strict-transport-security: max-age=300

# Command 2: HSTS line only
strict-transport-security: max-age=300
```### 2) Pod log kontrolü (seçici script çalıştırıldı)

Çıktı:```text
[security-headers] Setting SECURITY_HEADERS_MODE=report-only
[security-headers] Found CSP: default-src 'self'; script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self'; form-action 'self'; frame-ancestors 'self';
```---

## PASS kriterleri (açık olmalıdır)
- [x] `Content-Security-Policy-Report-Only` başlığı mevcut
- [x] `Strict-Transport-Security` başlığı mevcut
- [x] HSTS `max-age=300` içeriyor
- [x] HSTS **includeSubDomains** içermiyor
- [x] HSTS **preload** içermiyor
- [x] Pod logları seçicinin çalıştığını gösteriyor
- [x] Pod logları `report-only` seçildiğini belirtiyor

---

## Sonuç
- Genel (otomatik değerlendirildi): **true**
  - `false` ise, PASS iddia etmeden önce çıktıları gözden geçirin ve eksik öğeleri düzeltin.

---

## Notlar / Gözlemler (opsiyonel)
- (Notları buraya ekleyin; gizli bilgilerin maskelendiğinden emin olun.)
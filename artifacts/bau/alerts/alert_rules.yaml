groups:
- name: bau-slo-alerts
  rules:
  - alert: DepositSuccessLow
    annotations:
      description: Deposit success rate dropped below 95%
    expr: rate(deposit_success[1h]) < 0.95
    for: 5m
    labels:
      severity: critical
  - alert: WithdrawBacklogHigh
    expr: withdraw_pending_count > 50
    for: 15m
    labels:
      severity: warning
  - alert: CallbackRejectSpike
    expr: rate(callback_rejects[5m]) > 5
    for: 1m
    labels:
      severity: critical
  - alert: LedgerInvariantFail
    expr: ledger_balance_mismatch > 0
    for: 0m
    labels:
      severity: page
